
<!doctype html>
<html>
	<head>
		<title>Caltrain Schedule</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, user-scalable=0, initial-scale=1.0"/>
        <script src="//maps.googleapis.com/maps/api/js?libraries=places"></script>
		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
		<link rel="stylesheet" href="./style.css" charset="utf-8">
		<script>
      // Helper function which returns a promise which resolves once the service worker registration
      // is past the "installing" state.
      function waitUntilInstalled(registration) {
        return new Promise(function(resolve, reject) {
          if (registration.installing) {
            // If the current registration represents the "installing" service worker, then wait
            // until the installation step (during which the resources are pre-fetched) completes
            // to display the file list.
            registration.installing.addEventListener('statechange', function(e) {
              if (e.target.state == 'installed') {
                resolve();
              } else if(e.target.state == 'redundant') {
                reject();
              }
            });
          } else {
            // Otherwise, if this isn't the "installing" service worker, then installation must have been
            // completed during a previous visit to this page, and the resources are already pre-fetched.
            // So we can show the list of files right away.
            resolve();
          }
        });
      }
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('./service-worker.js', {scope: './'})
          .then(waitUntilInstalled)
          .catch(function(error) {
            // Something went wrong during registration. The service-worker.js file
            // might be unavailable or contain a syntax error.
            //document.querySelector('#status').textContent = error;
            console.log(error);
          });
      } else {
        // The current browser doesn't support service workers.
        var aElement = document.createElement('a');
        aElement.href = 'http://www.chromium.org/blink/serviceworker/service-worker-faq';
        aElement.textContent = 'Service workers are not supported in the current browser.';
        console.log('Service workers are not supported in the current browser.');
      }
    </script>
	</head>
	
	<body>
		<div id="root"></div>
		<script src="http://localhost:8080/webpack-dev-server.js"></script>
		<script src="./bundle.js"></script>
	</body>
</html>
